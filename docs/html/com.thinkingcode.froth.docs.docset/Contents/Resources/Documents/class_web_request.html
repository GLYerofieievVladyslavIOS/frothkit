<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Froth API: WebRequest Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WebRequest Class Reference</h1><!-- doxytag: class="WebRequest" --><!-- doxytag: inherits="NSObject" -->
<p>Encapsulates information from a request from httpd (or fastcgi)  WebRequests provide a Action controller with all the details about a request, also it typically containts routing information applied by the server. <br/>
<br/>
 Requests also has convienence methods for accessing a NSDictionary/NSArray from the body or query of the request. <br/>
.  
<a href="#_details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_web_request_8h_source.html">WebRequest.h</a>&gt;</code></p>

<p>Inherits NSObject.</p>

<p><a href="class_web_request-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace1d6b7681a105a57be0205394038a3a"></a><!-- doxytag: member="WebRequest::url" ref="ace1d6b7681a105a57be0205394038a3a" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>url</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae3eb89574334ccdf405245843461459f"></a><!-- doxytag: member="WebRequest::domain" ref="ae3eb89574334ccdf405245843461459f" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>domain</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1988c199ad65f43c72612b2b788587e"></a><!-- doxytag: member="WebRequest::method" ref="ae1988c199ad65f43c72612b2b788587e" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>method</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d6521924b986e90f6bae887ec74625c"></a><!-- doxytag: member="WebRequest::setMethod:" ref="a7d6521924b986e90f6bae887ec74625c" args="(NSString *replacement)" -->
(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>setMethod:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a434d37e0ca56075e2f9edaaf70f36401"></a><!-- doxytag: member="WebRequest::headers" ref="a434d37e0ca56075e2f9edaaf70f36401" args="()" -->
(NSDictionary *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>headers</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc00d5b70d636482d764990dc40e0480"></a><!-- doxytag: member="WebRequest::extension" ref="abc00d5b70d636482d764990dc40e0480" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>extension</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b8b7d5740de2c2187197ee79d7a41a3"></a><!-- doxytag: member="WebRequest::bodyDataValue" ref="a6b8b7d5740de2c2187197ee79d7a41a3" args="()" -->
(NSData *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a6b8b7d5740de2c2187197ee79d7a41a3">bodyDataValue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Raw data from a post request's body. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28898d6ec78f10fb65bd6c442713ee6c"></a><!-- doxytag: member="WebRequest::controller" ref="a28898d6ec78f10fb65bd6c442713ee6c" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a28898d6ec78f10fb65bd6c442713ee6c">controller</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The raw name for mapping to a WebController. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e1029601ae549ca93104fef4fe74784"></a><!-- doxytag: member="WebRequest::action" ref="a9e1029601ae549ca93104fef4fe74784" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a9e1029601ae549ca93104fef4fe74784">action</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The raw name for mapping to a WebController -method. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45fc319c83a92df05c16729e07a93799"></a><!-- doxytag: member="WebRequest::params" ref="a45fc319c83a92df05c16729e07a93799" args="()" -->
(NSMutableArray *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a45fc319c83a92df05c16729e07a93799">params</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Represents any paramiters send after the request (ie {controllerName}/{actionName}/{actionParams[0]/...}. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9131fe17cd7fe1519c58e58c7085d3a1"></a><!-- doxytag: member="WebRequest::cookies" ref="a9131fe17cd7fe1519c58e58c7085d3a1" args="()" -->
(NSDictionary *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>cookies</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7303fc070f8e99ccb99decb0fa90d50a"></a><!-- doxytag: member="WebRequest::contentType" ref="a7303fc070f8e99ccb99decb0fa90d50a" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a7303fc070f8e99ccb99decb0fa90d50a">contentType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The request header's Content-Type if any. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a353bc293bf57debe9b3ef8a2eec4d859"></a><!-- doxytag: member="WebRequest::bodyStringValue" ref="a353bc293bf57debe9b3ef8a2eec4d859" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a353bc293bf57debe9b3ef8a2eec4d859">bodyStringValue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Post body as a string using utf8 decoded. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a9233ca7347de925dbd7a203e3f4db1c0">objectValue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The posts body where object class is dependent on "contentType"  This object is automatically created from the contentType for the object.  <a href="#a9233ca7347de925dbd7a203e3f4db1c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a960f78827b84f5359930dc4651cef7da"></a><!-- doxytag: member="WebRequest::setObjectValue:" ref="a960f78827b84f5359930dc4651cef7da" args="(id object)" -->
(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>setObjectValue:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa286f11d1856104cea9e27c8e149da44"></a><!-- doxytag: member="WebRequest::session" ref="aa286f11d1856104cea9e27c8e149da44" args="()" -->
(<a class="el" href="class_web_session.html">WebSession</a> *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#aa286f11d1856104cea9e27c8e149da44">session</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The session based on user for request (See <a class="el" href="class_web_session.html" title="Provides a session object for user peristance and state management.  The session...">WebSession</a> header info) for how this is handled. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b2c31aa7b538aa7501b0ff9595d7dec"></a><!-- doxytag: member="WebRequest::query" ref="a3b2c31aa7b538aa7501b0ff9595d7dec" args="()" -->
(NSDictionary *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a3b2c31aa7b538aa7501b0ff9595d7dec">query</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The request query ?this=that&amp;here=their as a dictionary. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8de5b507b871faa31aefa98825e918c"></a><!-- doxytag: member="WebRequest::valueForCookie:" ref="ae8de5b507b871faa31aefa98825e918c" args="(NSString *cookieName)" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#ae8de5b507b871faa31aefa98825e918c">valueForCookie:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convenience method for accessing a cookie value with given key name, (uses request.cookies dictionary storage). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2b7c7539076c1709040de9f2e9e0bf2"></a><!-- doxytag: member="WebRequest::valueForHeader:" ref="ad2b7c7539076c1709040de9f2e9e0bf2" args="(NSString *headerName)" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#ad2b7c7539076c1709040de9f2e9e0bf2">valueForHeader:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a header value for header key, IE HTTP_HOST. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a411b8ecb628e6d370a3e70df0065a717"></a><!-- doxytag: member="WebRequest::ip" ref="a411b8ecb628e6d370a3e70df0065a717" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_request.html#a411b8ecb628e6d370a3e70df0065a717">ip</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convenience method for returning enviorment variable for requestors ip address. REMOTE_ADDR. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcece4a1257d3da02cac8f2e6bea7215"></a><!-- doxytag: member="WebRequest::setHTTPRequestPointer:" ref="afcece4a1257d3da02cac8f2e6bea7215" args="(char **env)" -->
(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>setHTTPRequestPointer:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35883e67617c89780560d9b3620c9cda"></a><!-- doxytag: member="WebRequest::setBodyData:" ref="a35883e67617c89780560d9b3620c9cda" args="(NSData *data)" -->
(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>setBodyData:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf8f5a84d8f4bab0cfdb0160f5532301"></a><!-- doxytag: member="WebRequest::firstParam" ref="acf8f5a84d8f4bab0cfdb0160f5532301" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>firstParam</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3535851aa632aa04ce66858034d17a08"></a><!-- doxytag: member="WebRequest::lastParam" ref="a3535851aa632aa04ce66858034d17a08" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>lastParam</b></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85022d61d1692216072aebe4babdbe3d"></a><!-- doxytag: member="WebRequest::method" ref="a85022d61d1692216072aebe4babdbe3d" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>method</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc1d92cd11799777c1c3fb0fa48043b9"></a><!-- doxytag: member="WebRequest::controller" ref="afc1d92cd11799777c1c3fb0fa48043b9" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>controller</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab49023bde52b1a0cc916b686431fbe12"></a><!-- doxytag: member="WebRequest::action" ref="ab49023bde52b1a0cc916b686431fbe12" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>action</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ae4f4b17116c43bfbe1663b3f118783"></a><!-- doxytag: member="WebRequest::extension" ref="a8ae4f4b17116c43bfbe1663b3f118783" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>extension</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed1f733cd21c085b4fd83d192d6dd3bd"></a><!-- doxytag: member="WebRequest::params" ref="aed1f733cd21c085b4fd83d192d6dd3bd" args="" -->
NSMutableArray *&nbsp;</td><td class="memItemRight" valign="bottom"><b>params</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af45ed7477c482495e47f6aa2c7a37ffe"></a><!-- doxytag: member="WebRequest::headers" ref="af45ed7477c482495e47f6aa2c7a37ffe" args="" -->
NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><b>headers</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a769b9be9b1cfbf890027ab641155fa91"></a><!-- doxytag: member="WebRequest::cookies" ref="a769b9be9b1cfbf890027ab641155fa91" args="" -->
NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><b>cookies</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70379dbea1f2b2c034d53b02b4b09c8f"></a><!-- doxytag: member="WebRequest::query" ref="a70379dbea1f2b2c034d53b02b4b09c8f" args="" -->
NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><b>query</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad769b298e3147490581fc62d478dbe86"></a><!-- doxytag: member="WebRequest::bodyDataValue" ref="ad769b298e3147490581fc62d478dbe86" args="" -->
NSData *&nbsp;</td><td class="memItemRight" valign="bottom"><b>bodyDataValue</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdc36219789972b1bb7d73fb07d677ec"></a><!-- doxytag: member="WebRequest::objectValue" ref="acdc36219789972b1bb7d73fb07d677ec" args="" -->
id&nbsp;</td><td class="memItemRight" valign="bottom"><b>objectValue</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f52cdf322058b513ded9f789057ea68"></a><!-- doxytag: member="WebRequest::session" ref="a4f52cdf322058b513ded9f789057ea68" args="" -->
<a class="el" href="class_web_session.html">WebSession</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>session</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Encapsulates information from a request from httpd (or fastcgi)  WebRequests provide a Action controller with all the details about a request, also it typically containts routing information applied by the server. <br/>
<br/>
 Requests also has convienence methods for accessing a NSDictionary/NSArray from the body or query of the request. <br/>
. </p>
<h3>POST/PUT Requests</h3>
<p>For POST requests, -objectValue returns an object automatically decoded from the http request's body, be it xml, json, html, x-www-form-urlencoded, etc. For post content the object returned from -objectValue will be a NSXMLElement, for json the result will be a NSDictionary. Text content will return as a NSString from the -objectValue method.</p>
<p><a class="el" href="class_web_request.html" title="Encapsulates information from a request from httpd (or fastcgi)  WebRequests provide...">WebRequest</a> parses the data useing the following logic.<br/>
 1. Checks the http contentType header with application/json or text/json, application/xml or text/xml and x-www-form-urlencoded.<br/>
 2. Checks the extention of the request *.xml, *.json and uses the extention as the type.</p>
<h3>GET Requests</h3>
<p>For GET Reqeusts -objectValue returns the query (?this=that) part of the url, or nil if none. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9233ca7347de925dbd7a203e3f4db1c0"></a><!-- doxytag: member="WebRequest::objectValue" ref="a9233ca7347de925dbd7a203e3f4db1c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) objectValue </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The posts body where object class is dependent on "contentType"  This object is automatically created from the contentType for the object. </p>
<p>1. application/json | text/json - NSDictionary or NSArray 2. text/plain | text/html | text/richtext - NSString 3. application/xml | text/xml - NSXMLDocument</p>
<p>TODO: convert text/html to DOMHtml object for server side dom support </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>WebRequest+FastCGI.m</li>
<li><a class="el" href="_web_request_8h_source.html">WebRequest.h</a></li>
<li>WebRequest.m</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Dec 22 14:06:17 2009 for Froth API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
