<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Froth API: WebSession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WebSession Class Reference</h1><!-- doxytag: class="WebSession" --><!-- doxytag: inherits="WebModelBase" -->
<p>Provides a session object for user peristance and state management.  The session has been abastracted from cookies and other session storage means to enable developers to use the desired style. For example. REST services could require "session" variables then use that to get the user's session, http requests of couse can use cookies for reteiving the user sesison.  
<a href="#_details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_web_session_8h_source.html">WebSession.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WebSession:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_web_session.gif" usemap="#WebSession_map" alt=""/>
  <map id="WebSession_map" name="WebSession_map">
<area href="class_web_model_base.html" alt="WebModelBase" shape="rect" coords="0,0,100,24"/>
</map>
 </div>
</div>

<p><a href="class_web_session-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0266ef07ac3e7a9b8de6984dcfd5e130"></a><!-- doxytag: member="WebSession::removeValueForKey:" ref="a0266ef07ac3e7a9b8de6984dcfd5e130" args="(NSString *key)" -->
(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="class_web_session.html#a0266ef07ac3e7a9b8de6984dcfd5e130">removeValueForKey:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value must be able to seralize itself as a string with -stringValue or -description (NSNumber). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e70ddb785540ac9ef4cb941bd5370b9"></a><!-- doxytag: member="WebSession::sessionUser" ref="a2e70ddb785540ac9ef4cb941bd5370b9" args="()" -->
(NSDictionary *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>sessionUser</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ccbb4ae86ba2abf0206ae2627622a31"></a><!-- doxytag: member="WebSession::username" ref="a5ccbb4ae86ba2abf0206ae2627622a31" args="()" -->
(NSString *)&nbsp;</td><td class="memItemRight" valign="bottom">- <b>username</b></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adc39b13562480687da14dde9d47111df"></a><!-- doxytag: member="WebSession::sessionWithKey:" ref="adc39b13562480687da14dde9d47111df" args="(NSString *sessionKey)" -->
(<a class="el" href="class_web_session.html">WebSession</a> *)&nbsp;</td><td class="memItemRight" valign="bottom">+ <b>sessionWithKey:</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93b8280b79c04e131351968316c93d40"></a><!-- doxytag: member="WebSession::newSessionWithKey:" ref="a93b8280b79c04e131351968316c93d40" args="(NSString *sessionKey)" -->
(<a class="el" href="class_web_session.html">WebSession</a> *)&nbsp;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="class_web_session.html#a93b8280b79c04e131351968316c93d40">newSessionWithKey:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a new retained/unsaved session with the given session key. <br/></td></tr>
<tr><td colspan="2"><h2>Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76e495cba3de5e75b66f188f28f2c4bc"></a><!-- doxytag: member="WebSession::guid" ref="a76e495cba3de5e75b66f188f28f2c4bc" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>guid</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a591a001d2f5c8b996aa359f5575b89cb"></a><!-- doxytag: member="WebSession::storage" ref="a591a001d2f5c8b996aa359f5575b89cb" args="" -->
NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><b>storage</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6377f041e878a4baa2291018eb29f0d1"></a><!-- doxytag: member="WebSession::storageKeys" ref="a6377f041e878a4baa2291018eb29f0d1" args="" -->
NSArray *&nbsp;</td><td class="memItemRight" valign="bottom"><b>storageKeys</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Provides a session object for user peristance and state management.  The session has been abastracted from cookies and other session storage means to enable developers to use the desired style. For example. REST services could require "session" variables then use that to get the user's session, http requests of couse can use cookies for reteiving the user sesison. </p>
<p><br/>
<br/>
 Sessions can be added key/value data that can be used with a session. The value must always implement the JSON protocal for serailizing as json. Any object that does this can then be added to a session. An Example of this could be the authentication system's user info. The username/userobject could be stored in the session with... <br/>
[aSession setValue:user forKey:@"user"]; <br/>
Or retreived with... <br/>
[aSession valueForKey:@"user"];</p>
<p><br/>
<br/>
 Sessions are persisted according to the webApp's datasource's SessionDataSource key see WebDataSource/WebModelBase for more details. The default datasource is the <a class="el" href="interface_memory_data_source.html" title="Provides a volitile in-memory distributable memory storage.  Note the becouse memcache...">MemoryDataSource</a> and is optionally overidable by adding a datasource listing to DataSources.plist with name SessionStorage</p>
<p><br/>
<br/>
 <a class="el" href="class_web_session.html" title="Provides a session object for user peristance and state management.  The session...">WebSession</a> instances use an internal json structure to persist session properties. This allows persistance in mysql/memchache or any other datasource. The JSON utility is heavily used to provide for this functionality.</p>
<p><br/>
<br/>
 WebSessions should not be subclassed. Becouse Froth provides internal methods for automatically retreiveing the session for a given request, it can be difficult to use your own implementation.</p>
<p><br/>
<br/>
 Sessions can be copyied as they inherit WebModelBase's NSCopying protocal support. Note however that the guid or session key is not copied, only the storage.</p>
<p><br/>
<br/>
 Catagories are the best way to extend web sessions and to provide cusomized accessors for starage data.</p>
<p><br/>
<br/>
 Sessions are retrieved from a request by the following logic, in order if the previous attempt fails to return a session value. 1. Check the cookies for a x-froth-session key/value pair. 2. Check for a x-froth-session HTTP enviorment header (Can be used for built in sessionful/rest api). 3. Check for a /xfrothsession/value params combo in the request's url 4. If the url-encoded post contains a xfrothsession=value combination</p>
<p><br/>
<br/>
 Sessions are retrieved dynamically when the user asks for it in a controller action. This provides a faster on-demand implemtation, for times when a session key is not needed. <a class="el" href="class_web_request.html" title="Encapsulates information from a request from httpd (or fastcgi)  WebRequests provide...">WebRequest</a> provides the property -session for accessing the current sesison. (This returns nil if no session availible.)</p>
<p><br/>
<br/>
 Sessions are dynamically generated as needed for normal html web requests (non api) These are always set to expire at a set time as the application defualts. These are created if needed, or useing existing. If</p>
<p><br/>
<br/>
 REST/APIs can also generate a session and retreive it with the method (Unless overide by a controller class that uses the name [session]... <a href="http://">http://</a>[host]/[path-to-froth]/session/get </p>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>WebSession+User.m</li>
<li><a class="el" href="_web_session_8h_source.html">WebSession.h</a></li>
<li>WebSession.m</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Dec 22 14:06:17 2009 for Froth API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
