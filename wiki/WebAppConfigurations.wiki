#summary Details on setting up deployment modes using Xcode build configurations and Deployments.plist

= Introduction =

Frothkit provides the ability to setup multiple deployment modes of a single webapp. Developers can have beta, staging or any other version of their web app running on different or the same server using Xcode's Build Configurations and a Deployments.plist that should be included in the *.webApp's Resources directory. The fmtool unix tool that is installed on the server uses the Deployments.plist configuration to provide configuration details to lighttpd. These details are essential for lighttpd to determine where static resources, as well as shared resources should for the given webapp.

= Details =

Each deployment is configured using the same name as specified under the active target's configuration. The webapp will be deployed under a given configuration that is selected from "Project->Set Active Configuration" menu. Each configuration's build setting's should have a "FROTH_HOST" key/value specifying the host or ip to deploy the webapp to, as well as a FROTH_IDENTITY key/value that is the path to the local identity key used to securely connect to the remote instance via ssh, without needing to supply a password.

Corresponding to the build configurations should be a "Deployment.plist" file that is included with the "Copy Bundle Resources" build phase. This file provides information to the running web app instance, as well as fmtool, about the port, root and host information for a given instance. The plist has a root "Dictionary" node with key name "Modes" that includes the list of all deployment modes available for the webapp. Each child, is a subsequent dictionary with a key name corresponding to the build configuration name. This dictionary should have the following key/values.

  * Root - The root path for the webapp, for example if multiple web apps are sharing a single domain.
  * Port - A unique port number that the webapp will listen on. (for lighttpd)
  * Host - The domain name or regex string with multiple domains the webapp listens to.
  * Disabled - (Optional Boolean) Allows for disabling a webapp.